{"version":3,"sources":["components/Users/Users.module.css","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"names":["module","exports","userWrapper","user","block__left","avatar","name","block__right","city","userPagintaiton","activePage","normalPage","Users","props","pagesCount","Math","ceil","usersCount","usersPerPage","users","map","userURL","id","react_default","a","createElement","key","className","styles","react_router_dom","to","Avatar","src","photos","small","followed","onClick","onUnfollow","disabled","usersInFollowingProgress","some","user2","follow","onFollow","type","location","country","status","previousPageNumber","currentPage","onPageChange","p","i","push","spanCurrentPage","length","item","getPagination","nextPageNumber","isFetching","Preloader","UsersAPI","e","_this","setCurrentPage","getUsers","render","components_Users_Users","this","React","Component","__webpack_exports__","compose","connect","state","usersData","setToggleIsFetching","withAuthRedirect"],"mappings":"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","file":"static/js/2.e1914e2b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrapper\":\"Users_userWrapper__1FUM1\",\"user\":\"Users_user__3AuTs\",\"block__left\":\"Users_block__left__2Gc0s\",\"avatar\":\"Users_avatar__i8v6K\",\"name\":\"Users_name__20c7L\",\"block__right\":\"Users_block__right__2K9lQ\",\"city\":\"Users_city__NCE1U\",\"userPagintaiton\":\"Users_userPagintaiton___SXZw\",\"activePage\":\"Users_activePage__pXJ4M\",\"normalPage\":\"Users_normalPage__1-8qt\"};","import React from 'react';\nimport styles from './Users.module.css';\nimport Avatar from './../Shared/Avatar.jsx';\nimport Preloader from './../Shared/Preloader.jsx';\nimport {NavLink} from 'react-router-dom';\n\nconst Users = (props) => {\n    let pagesCount = Math.ceil(props.usersCount / props.usersPerPage);\n\n    const getPagination = () => {\n      let p = [];\n      for (let i = 1; i <= pagesCount; i++) {\n        p.push(i);\n      }\n      if (pagesCount > 9) {\n        let spanCurrentPage = '';\n        if (props.currentPage > 1 && props.currentPage < pagesCount) {\n          spanCurrentPage = props.currentPage;\n        }\n        return <span>\n          <span onClick={() => {props.onPageChange(1)}} className={props.currentPage === 1 ? styles.activePage : styles.normalPage}>{1}</span>\n          <span> ..<span className={styles.activePage}>{spanCurrentPage}</span>.. </span>\n          <span onClick={() => {props.onPageChange(p.length)}} className={props.currentPage === p.length ? styles.activePage : styles.normalPage}>{p.length}</span>\n        </span>\n      } else {\n        return (p.map(item => {\n              return <span onClick={() => {props.onPageChange(item)}} className={props.currentPage === item ? styles.activePage : styles.normalPage}>{item}</span>\n            })\n          )\n      }\n    }\n\n    let setNextPage = () => {\n      let nextPageNumber = props.currentPage + 1;\n      if (nextPageNumber < pagesCount) {\n        props.onPageChange(nextPageNumber);\n      }\n    }\n\n    let setPreviousPage = () => {\n      let previousPageNumber = props.currentPage - 1;\n      if (previousPageNumber > 0) {\n        props.onPageChange(previousPageNumber);\n      }\n    }\n\n    let users = props.users.map(user => {\n        let userURL = 'profile/' + user.id;\n        return (\n            <div key={user.id} className={styles.user}>\n              <div className={styles.block__left}>\n                <NavLink to={userURL}>\n                  <Avatar src={user.photos.small} name={user.name} />\n                </NavLink>\n                <span className={styles.name}>{user.name}</span>\n                {user.followed ?\n                  <button  onClick={() => {props.onUnfollow(user.id)}} disabled={props.usersInFollowingProgress.some(user2 => user2 === user.id ? true : false )} className={styles.follow}>unfollow</button> :\n                  <button  onClick={() => {props.onFollow(user.id)}} disabled={props.usersInFollowingProgress.some(user2 => user2 === user.id ? true : false )} className={styles.follow}>follow</button>\n                }\n              </div>\n              <div className={styles.block__right}>\n                <span className={styles.type}>I was born as </span>\n                <span className={styles.location}>I currently living at\n                  <span className={styles.city}>user.location.city </span>\n                  <span className={styles.country}>user.location.country</span>\n                </span>\n                <div className={styles.status}>Status: {user.status}</div>\n              </div>\n            </div>\n        )}\n   )\n   return (\n     <div className={styles.userWrapper}>\n        <span>\n          <span onClick={setPreviousPage}>&larr; </span>\n            {getPagination()}\n          <span onClick={setNextPage}> &rarr;</span>\n        </span>\n        {props.isFetching ? <Preloader /> : users}\n    </div>\n   )\n}\n\nexport default Users;\n","import React from 'react';\nimport {setCurrentPage, setToggleIsFetching, getUsers,\n        onFollow, onUnfollow} from './../../redux/users-reducer.js';\nimport {connect} from 'react-redux';\nimport Users from './Users.jsx';\nimport withAuthRedirect from './../../hoc/withAuthRedirect.js';\nimport {compose} from 'redux';\n\nclass UsersAPI extends React.Component {\n    onPageChange = (e) => {\n      this.props.setCurrentPage(e);\n      this.props.getUsers(e, this.props.usersPerPage);\n    }\n\n    render = () => {\n        return (\n            <Users\n                users = {this.props.users}\n                onPageChange = {this.onPageChange}\n                usersCount = {this.props.usersCount}\n                usersPerPage = {this.props.usersPerPage}\n                currentPage = {this.props.currentPage}\n                isFetching = {this.props.isFetching}\n                usersInFollowingProgress = {this.props.usersInFollowingProgress}\n                onFollow = {this.props.onFollow}\n                onUnfollow = {this.props.onUnfollow}\n            />\n        )\n    }\n    componentDidMount() {\n      this.props.getUsers(this.props.currentPage, this.props.usersPerPage);\n    }\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    users: state.usersData.users,\n    usersCount: state.usersData.usersCount,\n    usersPerPage: state.usersData.usersPerPage,\n    currentPage: state.usersData.currentPage,\n    isFetching: state.usersData.isFetching,\n    usersInFollowingProgress: state.usersData.usersInFollowingProgress\n  }\n}\n\nexport default compose(\n  connect(mapStateToProps, {\n          setCurrentPage,\n          setToggleIsFetching,\n          getUsers,\n          onFollow,\n          onUnfollow\n      }\n  ),\n  withAuthRedirect\n)(UsersAPI);\n"],"sourceRoot":""}